!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.parseComponentTree=r():e.parseComponentTree=r()}(global,(()=>(()=>{"use strict";var e={320:function(e,r,t){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.resolvePath=void 0;var o=n(t(662)),i=n(t(864)),s=n(t(764));function u(e){return!!o.default.existsSync(e)&&o.default.statSync(e).isFile()}function a(e){for(var r=e,t=(0,s.default)().compilerOptions.paths,n=0,o=Object.entries(t);n<o.length;n++){var i=o[n],u=i[0],a=i[1];r=r.replace(u.replace("*",""),a[0].replace("*",""))}return r}function l(e,r,t){var n=r&&t?i.default.dirname(t):process.cwd();return function(e,r){if(u(e))return e;for(var t=0,n=r;t<n.length;t++){var o=n[t],s="".concat(e,".").concat(o),a=i.default.join(e,"index.".concat(o));if(u(s))return s;if(u(a))return a}throw new Error("File not found: ".concat(e))}(i.default.resolve(n,a(e)),["tsx","ts","jsx","js"])}r.resolvePath=function(e,r){var t=/^\.\.?\//.test(e),n=function(e){return!/^\.\.?\//.test(a(e))}(e);return{isExternal:n,isRelative:t,absolute:n?e:l(e,t,r)}}},764:function(e,r,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var i=o(t(662)),s=o(t(864)),u=o(t(514));r.default=function(){try{var e=s.default.resolve(process.cwd(),"tsconfig.json"),r=i.default.readFileSync(e,"utf8"),t=u.default.parse(r);return n(n({},t),{compilerOptions:n({paths:{}},t.compilerOptions)})}catch(e){return{compilerOptions:{paths:{}}}}}},740:function(e,r,t){var n=this&&this.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var i=o(t(662)),s=t(840),u=o(t(844)),a=t(960),l=t(320);function p(e,r,t){return e.reduce((function(e,o){if("JSXElement"===o.type)return n(n([],e,!0),[c(o,r,t,!1,!1,!1)],!1);var i=function(e){if("JSXExpressionContainer"!==e.type)return null;if("CallExpression"!==e.expression.type)return null;if("MemberExpression"!==e.expression.callee.type)return null;if("Identifier"!==e.expression.callee.property.type)return null;if("map"!==e.expression.callee.property.name)return null;if(1!==e.expression.arguments.length)return null;var r=e.expression.arguments[0];return"ArrowFunctionExpression"!==r.type||"JSXElement"!==r.body.type?null:r.body}(o);if(i)return n(n([],e,!0),[c(i,r,t,!0,!1,!1)],!1);var s,u="JSXExpressionContainer"!==(s=o).type||"LogicalExpression"!==s.expression.type||"&&"!==s.expression.operator||"JSXElement"!==s.expression.right.type?null:s.expression.right;if(u)return n(n([],e,!0),[c(u,r,t,!1,!0,!1)],!1);var l=function(e){return"JSXExpressionContainer"!==e.type||"ConditionalExpression"!==e.expression.type||"JSXElement"!==e.expression.consequent.type||"JSXElement"!==e.expression.alternate.type?null:[e.expression.consequent,e.expression.alternate]}(o);if(l){var p=(0,a.uuid)();return n(n([],e,!0),l.map((function(e){return c(e,r,t,!1,!1,!0,p)})),!0)}return e}),[])}function c(e,r,t,n,o,i,s){void 0===s&&(s="");var u=function(e){var r=e.openingElement.name;switch(r.type){case"JSXIdentifier":return r.name;case"JSXMemberExpression":return r.property.name;default:throw new Error("unknown identifier")}}(e),a=r.find((function(e){return e.modules.includes(u)}));return{name:u,isClient:t,isList:n,isLogical:o,isConditional:i,link:s,isConnection:!!a,ownChildren:a?f(a.path,t):[],children:p(e.children,r,!1)}}function f(e,r){var t=(0,l.resolvePath)(e),n=i.default.readFileSync(t.absolute,"utf8"),o=r||/["']use client["']/.test(n),a=(0,s.parse)(n,{sourceType:"module",plugins:["jsx","typescript"]}),f=[],d=[];return(0,u.default)(a,{ImportDeclaration:function(e){var r=(0,l.resolvePath)(e.node.source.value,t.absolute);r.isExternal||f.push({modules:e.node.specifiers.map((function(e){return e.local.name})),path:r.absolute})},JSXElement:function(e){if(!d.length){var r="JSXFragment"===e.parent.type?e.parent:e.node;"JSXElement"===r.type?d.push(c(r,f,o,!1,!1,!1)):d.push.apply(d,p(r.children,f,o))}}}),d}r.default=f},840:e=>{e.exports=require("@babel/parser")},844:e=>{e.exports=require("@babel/traverse")},514:e=>{e.exports=require("json5")},960:e=>{e.exports=require("uuidv4")},662:e=>{e.exports=require("node:fs")},864:e=>{e.exports=require("node:path")}},r={};var t=function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}(740);return t})()));