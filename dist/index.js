!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.parseComponentTree=t():e.parseComponentTree=t()}(global,(()=>(()=>{"use strict";var e={320:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFullPath=t.fixPath=void 0;var o=n(r(864)),i=n(r(764));t.fixPath=function(e){for(var t=e.endsWith(".tsx")?"".concat(e):"".concat(e,".tsx"),r=(0,i.default)().compilerOptions.paths,n=0,o=Object.entries(r);n<o.length;n++){var u=o[n],s=u[0],a=u[1];t=t.replace(s.replace("*",""),a[0].replace("*",""))}return t},t.getFullPath=function(e,t,r){return r?o.default.resolve(o.default.dirname(e),t):o.default.resolve(process.cwd(),t)}},764:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(662)),i=n(r(864)),u=n(r(514));t.default=function(){try{var e=i.default.resolve(process.cwd(),"tsconfig.json"),t=o.default.readFileSync(e,"utf8");return u.default.parse(t)}catch(e){return{compilerOptions:{paths:{}}}}}},740:function(e,t,r){var n=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(662)),u=r(840),s=o(r(844)),a=r(320);function l(e,t,r){return e.reduce((function(e,o){if("JSXElement"===o.type)return n(n([],e,!0),[p(o,t,r,!1)],!1);var i=function(e){if("JSXExpressionContainer"!==e.type)return null;if("CallExpression"!==e.expression.type)return null;if("MemberExpression"!==e.expression.callee.type)return null;if("Identifier"!==e.expression.callee.property.type)return null;if("map"!==e.expression.callee.property.name)return null;if(1!==e.expression.arguments.length)return null;var t=e.expression.arguments[0];return"ArrowFunctionExpression"!==t.type||"JSXElement"!==t.body.type?null:t.body}(o);return i?n(n([],e,!0),[p(i,t,r,!0)],!1):e}),[])}function p(e,t,r,n){var o=function(e){var t=e.openingElement.name;switch(t.type){case"JSXIdentifier":return t.name;case"JSXMemberExpression":return t.property.name;default:throw new Error("unknown identifier")}}(e),i=t.find((function(e){return e.modules.includes(o)}));return{name:o,isClient:r,isList:n,isConnection:!!i,ownChildren:i?c(i.path,r):[],children:l(e.children,t,!1)}}function c(e,t){var r=i.default.readFileSync(e,"utf8"),n=t||/["']use client["']/.test(r),o=(0,u.parse)(r,{sourceType:"module",plugins:["jsx","typescript"]}),c=[],f=[];return(0,s.default)(o,{ImportDeclaration:function(t){var r=t.node.source.value,n=/^\.\.?\//.test(r),o=(0,a.fixPath)(r);/^\.\.?\//.test(o)&&c.push({modules:t.node.specifiers.map((function(e){return e.local.name})),path:(0,a.getFullPath)(e,o,n)})},JSXElement:function(e){if(!f.length){var t="JSXFragment"===e.parent.type?e.parent:e.node;"JSXElement"===t.type?f.push(p(t,c,n,!1)):f.push.apply(f,l(t.children,c,n))}}}),f}t.default=c},840:e=>{e.exports=require("@babel/parser")},844:e=>{e.exports=require("@babel/traverse")},514:e=>{e.exports=require("json5")},662:e=>{e.exports=require("node:fs")},864:e=>{e.exports=require("node:path")}},t={};var r=function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(740);return r})()));